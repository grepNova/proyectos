<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">


<h:head>
	<script src="http://maps.google.com/maps/api/js?sensor=false" type="text/javascript" ></script>
	<title>My Monitoreo</title>
</h:head>
<h:body>

	<h:form id="tblNormativaHead">
		<p:dataTable  border="2" var="coop"  selection="#{presentacion.seleccionados}"
			value="#{presentacion.listaData}"  rowKey="#{coop.idunidad}" >
			
			<p:column selectionMode="multiple" style="width:18px" />

			<p:column sortBy="#{coop.idunidad}">
				<f:facet name="header">ID</f:facet>
				<h:outputText value="#{coop.idunidad}" />
			</p:column>
			<p:column sortBy="#{coop.codigounidad}">
				<f:facet name="header">Codigo</f:facet>
				<h:outputText value="#{coop.codigounidad}" />
			</p:column>
			<p:column sortBy="#{coop.fechahora}">
				<f:facet name="header">Fecha</f:facet>
				<h:outputText value="#{coop.fechahora}" />
			</p:column>
			<p:column sortBy="#{coop.velocidad}">
				<f:facet name="header">Codigo</f:facet>
				<h:outputText value="#{coop.velocidad}" />
			</p:column>
			<p:column sortBy="#{coop.provincia}">
				<f:facet name="header">Codigo</f:facet>
				<h:outputText value="#{coop.provincia}" />
			</p:column>
			<p:column sortBy="#{coop.ciudad}">
				<f:facet name="header">Codigo</f:facet>
				<h:outputText value="#{coop.ciudad}" />
			</p:column>
			<p:column sortBy="#{coop.calleprin}">
				<f:facet name="header">Codigo</f:facet>
				<h:outputText value="#{coop.calleprin}" />
			</p:column>

			<p:column sortBy="#{coop.callesec}">
				<f:facet name="header">Codigo</f:facet>
				<h:outputText value="#{coop.callesec}" />
			</p:column>
			
			<p:column sortBy="#{coop.tipotrama}">
				<f:facet name="header">Codigo</f:facet>
				<h:outputText value="#{coop.tipotrama}" />
			</p:column>

			<p:column sortBy="#{coop.estadoequipo}">
				<f:facet name="header">Codigo</f:facet>
				<h:outputText value="#{coop.estadoequipo}" />
			</p:column>

		</p:dataTable>

		<p:commandButton action="#{presentacion.llenaTabla()}"
			value="Actualizar" update="tblNormativaHead" />

		<p:commandButton id="verMapa" value="Ver Mapa" icon="ui-icon-search"
			update="divMapa" action="#{presentacion.verMapa()}" />


		<p:gmap id="divMapa" center="#{presentacion.lati},#{presentacion.longi}" zoom="15"
			fitBounds="true"
			streetView="true"
			type="HYBRID" model="#{presentacion.advancedModel}"
			style="width:600px;height:400px">

			<p:ajax event="overlaySelect" listener="#{presentacion.onMarkerSelect}" />

			<p:gmapInfoWindow>
				<p:outputPanel style="text-align:center;display:block;margin:auto:">

					<h:outputText value="#{presentacion.marker.data}" />

				</p:outputPanel>

			</p:gmapInfoWindow>

		</p:gmap>

	</h:form>

</h:body>
</html>
